<html lang="eng">
<head>
	<title>Edit Audio | Reprise</title>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<!-- angular install-->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"></script>
	<!-- angular app -->
	<script src="../js/repriseApp.js"></script>
	<script src="../js/repriseAudio.js"></script>
	<!-- site js -->
	<script src="../js/repriseCtrl.js"></script>
</head>
<body ng-app="reprise">
	<div class="wrapper audio" ng-controller="editAudio">
		<div class="reprise__col reprise--sidebar">
			<div ng-include="'../includes/sidebar.html'">
			</div>
		</div>
		<div class="reprise__col reprise--main">
			<div class="audio__intro">
				<h2>Edit Audio</h2>
				<p>Upload new audio such as songs, tracks or portfolio items and choose which items you would like to appear on your websire. Add optional information such as the album or project name, or an additional description.</p>
				<a ng-click="uploadAudio()" class="button button--small">Upload new</a>
			</div>
			<div class="audio__items">
				<p ng-show="!existing">You have no existing files</p>
				<div ng-if="existing!=false">
					<h3>Existing Audio</h3>
					<table>
						<tr>
							<th>Name</th>
							<th>Project/Album</th>
							<th>Description</th>
							<th>Featured?</th>
							<th></th>
						</tr>
						<tr ng-repeat="item in existing">
							<td>{{ ::item.name }}</td>
							<td>{{ ::item.project || "N/A" }}</td>
							<td>{{ ::item.description || "N/A" }}</td>
							<td>
								<input type="checkbox" ng-click="featuredChange(item)" ng-checked="item.featured==1" />
							</td>
							<td>
								<a class="button button--small" ng-click="editAudio(item)">Edit</a>
								<a class="button button--small" ng-click="deleteAudio(item)">Delete</a>
							</td>
						</tr>
					</table>
					<div class="buttons--right">
						<a class="button" ng-show="featuredEdit" ng-click="saveFeatured()">Save featured article</a>
					</div>
				</div>
			</div>
			<div ng-show="popupActive" class="audio__upload freeze">
				<div class="audio__popup popup">
					<div ng-if="newItem">
						<div ng-include="'includes/new-audio.html'"></div>
					</div>
					<div ng-if="editItem">
						<div ng-include="'includes/edit-audio.html'"></div>
					</div>
				</div>
			</div>
			
			<div ng-class="status.httpReq ? 'active' : '' " class="status">
				<div class="in-progress">
				</div>
				<div ng-class="status.complete ? 'active' : '' " class="complete">
					<img src="../img/icons/tick.png"/>
					<span>{{ success }}</span>
				</div>
				<div class="status.error" style="display:none;">
					<img src="../img/icons/error.png"/>
				</div>
			</div>
		</div>
	</div>
</body>
</html>